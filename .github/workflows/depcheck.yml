name: De[pcheck]

on: 
  workflow_dispatch:
  push:
    branches:
      - 'branch-b'

jobs:
  depchecktest:
    runs-on: ubuntu-latest
    
    name: depecheck_test
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - uses: nick-fields/retry@v3
        with:
          timeout_minutes: 20
          max_attempts: 2
          retry_on: error
          command: exit 1
      # - name: Depcheck
      #   uses: dependency-check/Dependency-Check_Action@main
      #   continue-on-error: true
      #   id: Depcheck
      #   with:
      #     project: test
      #     path: "."
      #     format: ALL
      #     out: reports
      #     args: "--failOnCVSS 4"



      # - name: Depcheck
      #   uses: dependency-check/Dependency-Check_Action@main
      #   continue-on-error: true
      #   id: Depcheck
      #   with:
      #     project: 'test'
      #     path: '.'
      #     format: 'ALL'
      #     out: 'reports' # this is the default, no need to specify unless you wish to override it
      #     args: >
      #       --failOnCVSS 3
      #       --enableRetired
      # - name: Upload Test results
      #   uses: actions/upload-artifact@master
      #   with:
      #      name: Depcheck report
      #      path: ${{github.workspace}}/reports